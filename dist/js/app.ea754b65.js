(function(){"use strict";var t={5407:function(t,e,n){var o=n(9963),s=n(6252);function r(t,e,n,o,r,a){const l=(0,s.up)("NavBar"),i=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(l),(0,s.Wm)(i)],64)}const a=(0,s._)("h1",null,"Taqta",-1),l=(0,s.Uk)("Home"),i=(0,s.Uk)("Create post");function u(t,e,n,o,r,u){const p=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("header",null,[a,(0,s._)("nav",null,[(0,s.Wm)(p,{to:{name:"home"}},{default:(0,s.w5)((()=>[l])),_:1}),(0,s.Wm)(p,{to:{name:"create"}},{default:(0,s.w5)((()=>[i])),_:1})])])}var p={},c=n(3744);const d=(0,c.Z)(p,[["render",u]]);var g=d,v={components:{NavBar:g}};const m=(0,c.Z)(v,[["render",r]]);var w=m,f=n(2119),h=n(3577);const y={class:"home"},b=(0,s._)("h1",null,"Basty paraqsha",-1),k={key:0},D={key:1,class:"layout"};function _(t,e,n,o,r,a){const l=(0,s.up)("PostList"),i=(0,s.up)("TagCloud"),u=(0,s.up)("SpinnerElem");return(0,s.wg)(),(0,s.iD)("div",y,[b,o.error?((0,s.wg)(),(0,s.iD)("div",k,(0,h.zw)(o.error),1)):(0,s.kq)("",!0),o.posts.length?((0,s.wg)(),(0,s.iD)("div",D,[(0,s.Wm)(l,{posts:o.posts},null,8,["posts"]),(0,s.Wm)(i,{posts:o.posts},null,8,["posts"])])):((0,s.wg)(),(0,s.j4)(u,{key:2}))])}const H={class:"post-list"};function O(t,e,n,o,r,a){const l=(0,s.up)("SinglePost");return(0,s.wg)(),(0,s.iD)("div",H,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.posts,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e},[(0,s.Wm)(l,{post:t},null,8,["post"])])))),128))])}const S={class:"post"};function j(t,e,n,o,r,a){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",S,[(0,s.Wm)(l,{to:{name:"details",params:{id:n.post.id}}},{default:(0,s.w5)((()=>[(0,s._)("h3",null,(0,h.zw)(n.post.title),1)])),_:1},8,["to"]),(0,s._)("p",null,(0,h.zw)(o.snippet),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.post.tags,((t,e)=>((0,s.wg)(),(0,s.iD)("span",{key:e},[(0,s.Wm)(l,{to:{name:"tags",params:{tag:t}}},{default:(0,s.w5)((()=>[(0,s.Uk)("#"+(0,h.zw)(t),1)])),_:2},1032,["to"])])))),128))])}var T={props:{post:{type:Object}},setup(t){const e=(0,s.Fl)((()=>t.post.body.substring(0,300)+"..."));return{snippet:e}}};const z=(0,c.Z)(T,[["render",j]]);var C=z,P={props:{posts:{type:Array}},setup(){},components:{SinglePost:C}};const W=(0,c.Z)(P,[["render",O]]);var Z=W,x=n(2262),E=n(5503),q=n(6257);const U={apiKey:"AIzaSyCauhXJeaxyBnwNfmBYxaDOjSbUesIQNaI",authDomain:"taqta-2ecf7.firebaseapp.com",projectId:"taqta-2ecf7",storageBucket:"taqta-2ecf7.appspot.com",messagingSenderId:"379280141750",appId:"1:379280141750:web:407ae0ff615e660d086517"},K=(0,E.ZF)(U),B=(0,q.ad)(K),I=(0,q.hJ)(B,"posts"),Y=q.Bt,A=()=>{const t=(0,x.iH)([]),e=(0,x.iH)(null),n=async()=>{try{const e=(0,q.IO)(I,(0,q.Xo)("createdAt","desc")),n=await(0,q.PL)(e);t.value=n.docs.map((t=>({...t.data(),id:t.id})))}catch(n){e.value=n.message,console.log(e.value)}};return{posts:t,error:e,load:n}};var L=A;const F={class:"spin"};function J(t,e){return(0,s.wg)(),(0,s.iD)("div",F)}const N={},V=(0,c.Z)(N,[["render",J]]);var X=V;const M={class:"tag-cloud"},Q=(0,s._)("h3",null,"Tags",-1);function R(t,e,n,o,r,a){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",M,[Q,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tags,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e},[(0,s.Wm)(l,{to:{name:"tags",params:{tag:t}}},{default:(0,s.w5)((()=>[(0,s.Uk)("#"+(0,h.zw)(t),1)])),_:2},1032,["to"])])))),128))])}const G=t=>{const e=(0,x.iH)([]),n=new Set;return t.forEach((t=>{t.tags.forEach((t=>n.add(t)))})),e.value=[...n],{tags:e}};var $=G,tt={props:{posts:{}},setup(t){const{tags:e}=$(t.posts);return{tags:e}}};const et=(0,c.Z)(tt,[["render",R]]);var nt=et,ot={name:"HomeView",setup(){const{posts:t,load:e,error:n}=L();return e(),{posts:t,error:n}},components:{PostList:Z,SpinnerElem:X,TagCloud:nt}};const st=(0,c.Z)(ot,[["render",_]]);var rt=st;const at={key:0},lt={key:1,class:"post"},it={class:"pre"};function ut(t,e,n,o,r,a){const l=(0,s.up)("SpinnerElem");return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.error?((0,s.wg)(),(0,s.iD)("div",at,(0,h.zw)(o.error),1)):(0,s.kq)("",!0),o.post?((0,s.wg)(),(0,s.iD)("div",lt,[(0,s._)("h3",null,(0,h.zw)(o.post.title),1),(0,s._)("p",it,(0,h.zw)(o.post.body),1),(0,s._)("button",{class:"delete",onClick:e[0]||(e[0]=(...t)=>o.handleClick&&o.handleClick(...t))},"Delete post")])):((0,s.wg)(),(0,s.j4)(l,{key:2}))],64)}n(1703);const pt=t=>{const e=(0,x.iH)(null),n=(0,x.iH)(null),o=async()=>{try{const n=(0,q.JU)(I,t),o=await(0,q.QT)(n);if(!o.exists())throw Error("That post is not exist");e.value={...o.data(),id:o.id}}catch(o){n.value=o.message,console.log(n.value)}};return{post:e,error:n,load:o}};var ct=pt,dt=n(1294),gt={components:{SpinnerElem:X},props:["id"],setup(t){const{post:e,load:n,error:o}=ct(t.id),s=(0,f.tv)();n();const r=async()=>{await(0,dt.oe)((0,dt.JU)(I,t.id)),s.push({name:"home"})};return{post:e,error:o,handleClick:r}}};const vt=(0,c.Z)(gt,[["render",ut]]);var mt=vt;const wt={class:"create"},ft=(0,s._)("label",null,"Title",-1),ht=(0,s._)("label",null,"Content",-1),yt=(0,s._)("label",null,"Tags (hit enter to add a tag)",-1),bt=(0,s._)("button",null,"Add post",-1);function kt(t,e,n,r,a,l){return(0,s.wg)(),(0,s.iD)("div",wt,[(0,s._)("form",{onSubmit:e[4]||(e[4]=(0,o.iM)(((...t)=>r.handleSubmit&&r.handleSubmit(...t)),["prevent"]))},[ft,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>r.title=t),type:"text",required:""},null,512),[[o.nr,r.title]]),ht,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>r.body=t),required:""},null,512),[[o.nr,r.body]]),yt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>r.tag=t),onKeydown:e[3]||(e[3]=(0,o.D2)((0,o.iM)(((...t)=>r.handleKeydown&&r.handleKeydown(...t)),["prevent"]),["enter"])),type:"text"},null,544),[[o.nr,r.tag]]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.tags,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"pill",key:e},"#"+(0,h.zw)(t),1)))),128)),bt],32)])}n(6699);var Dt={setup(){const t=(0,x.iH)(""),e=(0,x.iH)(""),n=(0,x.iH)(""),o=(0,x.iH)([]),s=(0,f.tv)(),r=()=>{o.value.includes(n.value)||(n.value=n.value.replace(/\s/,""),o.value.push(n.value)),n.value=""},a=async()=>{const n={title:t.value,body:e.value,tags:o.value,createdAt:Y()};await(0,dt.ET)(I,n),s.push({name:"home"})};return{title:t,body:e,tag:n,handleKeydown:r,tags:o,handleSubmit:a}}};const _t=(0,c.Z)(Dt,[["render",kt]]);var Ht=_t;const Ot={class:"home"},St={key:0},jt={key:1,class:"layout"};function Tt(t,e,n,o,r,a){const l=(0,s.up)("PostList"),i=(0,s.up)("TagCloud"),u=(0,s.up)("SpinnerElem");return(0,s.wg)(),(0,s.iD)("div",Ot,[(0,s._)("h1",null,"By Tag: "+(0,h.zw)(n.tag),1),o.error?((0,s.wg)(),(0,s.iD)("div",St,(0,h.zw)(o.error),1)):(0,s.kq)("",!0),o.posts.length?((0,s.wg)(),(0,s.iD)("div",jt,[(0,s.Wm)(l,{posts:o.tagedPosts},null,8,["posts"]),(0,s.Wm)(i,{posts:o.posts},null,8,["posts"])])):((0,s.wg)(),(0,s.j4)(u,{key:2}))])}var zt={components:{SpinnerElem:X,PostList:Z,TagCloud:nt},props:{tag:{}},setup(t){const{posts:e,error:n,load:o}=L(),r=(0,s.Fl)((()=>e.value.filter((e=>e.tags.includes(t.tag)))));return o(),{posts:e,error:n,tagedPosts:r}}};const Ct=(0,c.Z)(zt,[["render",Tt]]);var Pt=Ct;const Wt=(0,s._)("h1",null,"Realtime database",-1);function Zt(t,e,n,o,r,a){return(0,s.wg)(),(0,s.iD)(s.HY,null,[Wt,(0,s._)("p",null,(0,h.zw)(o.posts),1)],64)}var xt={setup(){const t=(0,x.iH)([]),e=(0,dt.IO)(I,(0,dt.Xo)("createdAt","desc"));return(0,dt.cf)(e,(e=>{let n=e.docs.map((t=>({...t.data(),id:t.id})));t.value=n})),{posts:t}}};const Et=(0,c.Z)(xt,[["render",Zt]]);var qt=Et;const Ut=[{path:"/",name:"home",component:rt},{path:"/create",name:"create",component:Ht},{path:"/realtime",name:"realtime",component:qt},{path:"/posts/:id",name:"details",component:mt,props:!0},{path:"/tags/:tag",name:"tags",component:Pt,props:!0}],Kt=(0,f.p7)({history:(0,f.PO)(""),routes:Ut});var Bt=Kt;(0,o.ri)(w).use(Bt).mount("#app")}},e={};function n(o){var s=e[o];if(void 0!==s)return s.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,o,s,r){if(!o){var a=1/0;for(p=0;p<t.length;p++){o=t[p][0],s=t[p][1],r=t[p][2];for(var l=!0,i=0;i<o.length;i++)(!1&r||a>=r)&&Object.keys(n.O).every((function(t){return n.O[t](o[i])}))?o.splice(i--,1):(l=!1,r<a&&(a=r));if(l){t.splice(p--,1);var u=s();void 0!==u&&(e=u)}}return e}r=r||0;for(var p=t.length;p>0&&t[p-1][2]>r;p--)t[p]=t[p-1];t[p]=[o,s,r]}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var s,r,a=o[0],l=o[1],i=o[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(s in l)n.o(l,s)&&(n.m[s]=l[s]);if(i)var p=i(n)}for(e&&e(o);u<a.length;u++)r=a[u],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(p)},o=self["webpackChunkdojo_blog_firebase"]=self["webpackChunkdojo_blog_firebase"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(5407)}));o=n.O(o)})();
//# sourceMappingURL=app.ea754b65.js.map